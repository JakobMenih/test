(function(){"use strict";var e={8916:function(e,t,a){var r=a(9242),s=a(3396),n=a(9122);const o={class:"background"},i=(0,s._)("img",{src:n},null,-1),l={class:"container max-w-6xl mx-auto p-2 my-8"};function c(e,t,a,r,n,c){const u=(0,s.up)("HeaderComponent"),d=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(u),(0,s._)("div",o,[i,(0,s._)("div",l,[(0,s.Wm)(d)])])],64)}var u=a(7139);const d=e=>((0,s.dD)("data-v-70c3018a"),e=e(),(0,s.Cn)(),e),p={class:"bg-cyan-900 bg-opacity-10 border-b border-cyan-800 border-opacity-50"},m={class:"container max-w-6xl mx-auto p-6 flex flex-row justify-between flex-wrap content-center"},h={class:""},g=d((()=>(0,s._)("span",{class:"text-4xl hover:text-white transition-colors duration-75"},"MyPhoneStore",-1))),w={class:"flex content-center"},_=d((()=>(0,s._)("button",{class:"account-link"},[(0,s._)("i",{class:"fas fa-sign-in-alt"}),(0,s.Uk)(" Sign in ")],-1))),f=d((()=>(0,s._)("button",{class:"account-btn"},[(0,s._)("i",{class:"fas fa-user-plus"}),(0,s.Uk)(" Sign up ")],-1))),b={key:1,class:"dropdown"},y={key:0,class:"dropdown-content"},x=d((()=>(0,s._)("li",null,[(0,s._)("i",{class:"fas fa-user-circle"}),(0,s.Uk)("My profile")],-1))),v=d((()=>(0,s._)("li",null,[(0,s._)("i",{class:"fas fa-lock"}),(0,s.Uk)("Admin Panel")],-1))),k=d((()=>(0,s._)("li",null,[(0,s._)("i",{class:"fas fa-mobile-alt"}),(0,s.Uk)("My phones")],-1))),M=d((()=>(0,s._)("i",{class:"fas fa-sign-out-alt"},null,-1))),D=(0,s.Uk)("Sign out "),C=[M,D];function U(e,t,a,r,n,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("header",p,[(0,s._)("div",m,[(0,s._)("div",h,[(0,s.Wm)(i,{to:"/"},{default:(0,s.w5)((()=>[g])),_:1})]),(0,s._)("div",w,[e.authenticated?((0,s.wg)(),(0,s.iD)("div",b,[(0,s._)("button",{class:(0,u.C_)([{"dropdown-button-active":n.dropdown},"dropdown-button welcome-link"]),onClick:t[0]||(t[0]=(...e)=>o.toggleDropdown&&o.toggleDropdown(...e))}," Welcome, "+(0,u.zw)(e.user.username)+"! ",3),n.dropdown?((0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("ul",null,[(0,s.Wm)(i,{to:"/profile",onClick:o.toggleDropdown},{default:(0,s.w5)((()=>[x])),_:1},8,["onClick"]),e.isAdmin?((0,s.wg)(),(0,s.j4)(i,{key:0,to:"/admin",onClick:o.toggleDropdown},{default:(0,s.w5)((()=>[v])),_:1},8,["onClick"])):(0,s.kq)("",!0),(0,s.Wm)(i,{to:"/myphones"},{default:(0,s.w5)((()=>[k])),_:1}),(0,s._)("li",{onClick:t[1]||(t[1]=(...e)=>o.logout&&o.logout(...e))},C)])])):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(i,{to:"/login"},{default:(0,s.w5)((()=>[_])),_:1}),(0,s.Wm)(i,{to:"/register"},{default:(0,s.w5)((()=>[f])),_:1})],64))])])])}var E=a(65),S=a(678);const W=e=>((0,s.dD)("data-v-4be05c7e"),e=e(),(0,s.Cn)(),e),V={class:"text-center my-20"},P=W((()=>(0,s._)("div",{class:"back-button"},[(0,s._)("button",{class:"p-2 mx-2 text-3xl rounded-sm border border-teal-400 text-teal-400 hover:border-teal-600 hover:bg-teal-600 hover:text-white transition duration-300;"}," Find your phone! ")],-1)));function R(e,t,a,r,n,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",V,[(0,s.Wm)(i,{to:"/search"},{default:(0,s.w5)((()=>[P])),_:1})])}var I={name:"HomeView",components:{}},A=a(89);const z=(0,A.Z)(I,[["render",R],["__scopeId","data-v-4be05c7e"]]);var O=z;const T=e=>((0,s.dD)("data-v-3e871220"),e=e(),(0,s.Cn)(),e),H={class:"form max-w-2xl border border-opacity-90 bg-cyan-900 bg-opacity-10 border-teal-700 mx-auto rounded-md"},Y=T((()=>(0,s._)("h1",{class:"mt-5 text-3xl text-center text-teal-300"},"Sign in",-1))),Z={class:"p-10 pt-3"},q={class:"form-control"},j=T((()=>(0,s._)("label",{for:"email"},"E-Mail",-1))),F=T((()=>(0,s._)("i",{class:"far fa-envelope"},null,-1))),N=[F],K={class:"form-control"},B=T((()=>(0,s._)("label",{for:"password"},"Password",-1))),$=T((()=>(0,s._)("i",{class:"fas fa-lock"},null,-1))),G=[$],L={class:"form-control text-center"},Q={class:"error"},X={class:"error"},J=T((()=>(0,s._)("p",{class:"mt-7 mb-2 text-lg"},"New user?",-1))),ee=T((()=>(0,s._)("button",{class:"p-2 px-3 w-full rounded-sm border text-cyan-400 border-cyan-400 hover:border-cyan-500 hover:text-cyan-500 text-xl transition duration-100"}," Register account ",-1)));function te(e,t,a,n,o,i){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",H,[Y,(0,s._)("div",Z,[(0,s._)("div",q,[j,(0,s._)("div",{class:(0,u.C_)(["input-container",{borderRed:o.loginError}])},[(0,s._)("span",{class:(0,u.C_)(["icon-container",{backgroundRed:o.loginError}])},N,2),(0,s.wy)((0,s._)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),placeholder:"example@gmail.com"},null,512),[[r.nr,o.email]])],2)]),(0,s._)("div",K,[B,(0,s._)("div",{class:(0,u.C_)(["input-container",{borderRed:o.loginError}])},[(0,s._)("span",{class:(0,u.C_)(["icon-container",{backgroundRed:o.loginError}])},G,2),(0,s.wy)((0,s._)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),placeholder:"Your password"},null,512),[[r.nr,o.password]])],2)]),(0,s._)("div",L,[(0,s._)("p",Q,(0,u.zw)(o.loginError),1),(0,s._)("p",X,(0,u.zw)(o.loginResponse),1),(0,s._)("button",{class:"p-2 px-3 w-full mt-6 rounded-sm bg-teal-700 hover:bg-teal-600 text-xl transition duration-100",onClick:t[2]||(t[2]=(...e)=>i.loginCheck&&i.loginCheck(...e))}," Sign in "),J,(0,s.Wm)(l,{to:"/register"},{default:(0,s.w5)((()=>[ee])),_:1})])])])}var ae=a(6265),re=a.n(ae);const se=re().create({baseURL:"/api/",timeout:5e3,headers:{}});se.interceptors.request.use((function(e){const t=localStorage.getItem("token");return e.headers.Authorization="Bearer "+t,e}),(function(e){return Promise.reject(e)}));var ne=se;class oe{static async insertUser(e,t,a){try{const r=await ne.post("users/create",{email:e,username:t,password:a});return r}catch(r){return 400===r.response.status?"Račun s to E-Pošto že obstaja":"Napaka v strežniku"}}static async getUserDetails(){try{const e=await ne.get("/users/details");return e.data}catch(e){return e}}static async editUser(e){try{const t=await ne.put("users/update",e);return t}catch(t){return t.response}}static async sendVerificationEmail(){try{const e=await ne.post("/users/verify/send");return e.data}catch(e){return e}}static async verifyEmail(e){try{const t=await ne.get("/users/verify/check/"+e);return t.data}catch(t){return t}}static async authenticateUser(e,t){try{const a=await ne.post("users/login",{email:e,password:t});return a}catch(a){return a.response}}}var ie=oe,le={name:"LoginView",components:{},data(){return{email:"",password:"",loginError:"",loginResponse:""}},methods:{...(0,E.nv)({saveToken:"auth/saveToken"}),async loginCheck(){if(""!=this.email&&""!=this.password){const e=await ie.authenticateUser(this.email,this.password);200!==e.status?this.loginResponse=e.data:(await this.saveToken(e.data.accessToken),Rs.push("/profile"))}else this.loginResponse="Please fill in both fields"}}};const ce=(0,A.Z)(le,[["render",te],["__scopeId","data-v-3e871220"]]);var ue=ce;const de=e=>((0,s.dD)("data-v-fbb5706e"),e=e(),(0,s.Cn)(),e),pe={class:"form max-w-2xl border bg-cyan-900 bg-opacity-10 border-cyan-700 mx-auto rounded-sm"},me=de((()=>(0,s._)("h1",{class:"mt-5 text-3xl text-center text-cyan-300"},"Registration",-1))),he={class:"p-5 pt-3"},ge={class:"form-control"},we=de((()=>(0,s._)("label",{for:"email"},"E-Mail",-1))),_e=de((()=>(0,s._)("i",{class:"far fa-envelope"},null,-1))),fe=[_e],be={class:"error"},ye={class:"form-control"},xe=de((()=>(0,s._)("label",{for:"username"},"Username",-1))),ve=de((()=>(0,s._)("i",{class:"fas fa-user"},null,-1))),ke=[ve],Me={class:"error"},De={class:"form-control"},Ce=de((()=>(0,s._)("label",{for:"password"},"Password",-1))),Ue=de((()=>(0,s._)("i",{class:"fas fa-lock"},null,-1))),Ee=[Ue],Se={key:0,class:"error"},We={class:"form-control"},Ve=de((()=>(0,s._)("label",{for:"password-repeat"},"Password Repeat",-1))),Pe=de((()=>(0,s._)("i",{class:"fas fa-key"},null,-1))),Re=[Pe],Ie={class:"error"},Ae={class:"form-control text-center"},ze={class:"error font-semibold"},Oe=de((()=>(0,s._)("p",{class:"mt-7 mb-2 text-lg"},"Already have an account?",-1))),Te=de((()=>(0,s._)("button",{class:"p-2 px-3 w-full rounded-sm border text-teal-400 border-teal-400 hover:border-teal-500 hover:text-teal-500 text-xl transition duration-100"}," Sign in ",-1)));function He(e,t,a,n,o,i){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",pe,[me,(0,s._)("div",he,[(0,s._)("div",ge,[we,(0,s._)("div",{class:(0,u.C_)(["input-container",{borderRed:o.emailError}])},[(0,s._)("span",{class:(0,u.C_)(["icon-container",{backgroundRed:o.emailError}])},fe,2),(0,s.wy)((0,s._)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),placeholder:"example@gmail.com",onInput:t[1]||(t[1]=(...e)=>i.authenticateEmail&&i.authenticateEmail(...e))},null,544),[[r.nr,o.email]])],2),(0,s._)("p",be,(0,u.zw)(o.emailError),1)]),(0,s._)("div",ye,[xe,(0,s._)("div",{class:(0,u.C_)(["input-container",{borderRed:o.usernameError}])},[(0,s._)("span",{class:(0,u.C_)(["icon-container",{backgroundRed:o.usernameError}])},ke,2),(0,s.wy)((0,s._)("input",{type:"text",id:"username","onUpdate:modelValue":t[2]||(t[2]=e=>o.username=e),placeholder:"Your username will be visible to others",onInput:t[3]||(t[3]=(...e)=>i.authenticateUsername&&i.authenticateUsername(...e))},null,544),[[r.nr,o.username]])],2),(0,s._)("p",Me,(0,u.zw)(o.usernameError),1)]),(0,s._)("div",De,[Ce,(0,s._)("div",{class:(0,u.C_)(["input-container",{borderRed:o.passwordError}])},[(0,s._)("span",{class:(0,u.C_)(["icon-container",{backgroundRed:o.passwordError}])},Ee,2),(0,s.wy)((0,s._)("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=e=>o.password=e),placeholder:"Your password to sign in",onInput:t[5]||(t[5]=(...e)=>i.authenticatePassword&&i.authenticatePassword(...e))},null,544),[[r.nr,o.password]])],2),o.passwordError?((0,s.wg)(),(0,s.iD)("p",Se,(0,u.zw)(o.passwordError),1)):(0,s.kq)("",!0)]),(0,s._)("div",We,[Ve,(0,s._)("div",{class:(0,u.C_)(["input-container",{borderRed:o.passwordRepeatError}])},[(0,s._)("span",{class:(0,u.C_)(["icon-container",{backgroundRed:o.passwordRepeatError}])},Re,2),(0,s.wy)((0,s._)("input",{type:"password",id:"password-repeat","onUpdate:modelValue":t[6]||(t[6]=e=>o.passwordRepeat=e),placeholder:"Confirm your password",onInput:t[7]||(t[7]=(...e)=>i.authenticatePasswordRepeat&&i.authenticatePasswordRepeat(...e))},null,544),[[r.nr,o.passwordRepeat]])],2),(0,s._)("p",Ie,(0,u.zw)(o.passwordRepeatError),1)]),(0,s._)("div",Ae,[(0,s._)("p",ze,(0,u.zw)(o.error),1),(0,s._)("button",{class:(0,u.C_)(["p-2 px-3 w-full mt-6 rounded-sm bg-cyan-600 hover:bg-cyan-500 text-xl transition duration-100",{backgroundRed:o.formInvalid}]),onClick:t[8]||(t[8]=(...e)=>i.insertUser&&i.insertUser(...e))}," Register account ",2),Oe,(0,s.Wm)(l,{to:"/login"},{default:(0,s.w5)((()=>[Te])),_:1})])])])}var Ye={name:"RegisterView",components:{},data(){return{email:"",username:"",password:"",passwordRepeat:"",emailError:"",usernameError:"",passwordError:"",passwordRepeatError:"",formInvalid:!1,registerTries:0,error:""}},methods:{authenticateEmail(){0==/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.test(this.email)&&""!=this.email?this.emailError="E-Mail must be in the correct format":this.emailError="",this.authenticateForm()},authenticateUsername(){0==/^[A-Za-z0-9 _]*[A-Za-z0-9][A-Za-z0-9 _]*$/.test(this.username)&&""!=this.username?this.usernameError="Username may only include letters and numbers":this.usernameError="",this.authenticateForm()},authenticatePassword(){this.password.length<5&&""!=this.password?this.passwordError="Password must be at least 5 characters long":this.passwordError="",this.authenticateForm()},authenticatePasswordRepeat(){this.password!=this.passwordRepeat?this.passwordRepeatError="Passwords do not match":this.passwordRepeatError="",this.authenticateForm()},authenticateForm(){this.registerTries>=1&&(""!=this.email&&""!=this.username&&""!=this.password&&""!=this.passwordRepeat&&""===this.emailError&&""===this.usernameError&&""===this.passwordError&&""===this.passwordRepeatError?this.formInvalid=!1:this.formInvalid=!0)},async insertUser(){if(this.registerTries++,this.authenticateForm(),!1===this.formInvalid)try{const e=await ie.insertUser(this.email,this.username,this.password);201===e.status?Rs.push("/login"):this.error=e}catch(e){this.error=e.message}}}};const Ze=(0,A.Z)(Ye,[["render",He],["__scopeId","data-v-fbb5706e"]]);var qe=Ze;const je=e=>((0,s.dD)("data-v-0f9ed2a5"),e=e(),(0,s.Cn)(),e),Fe={class:"form max-w-2xl border bg-cyan-900 bg-opacity-10 border-cyan-700 mx-auto rounded-sm"},Ne=je((()=>(0,s._)("h1",{class:"mt-5 text-3xl text-center text-teal-300"},"Find your phone",-1))),Ke={class:"p-5 pt-3"},Be={class:"block",open:""},$e=je((()=>(0,s._)("summary",null,"General",-1))),Ge={class:"content"},Le={class:"my-3 text-cyan-300"},Qe=je((()=>(0,s._)("p",{class:"text-lg mb-1"},"Release year",-1))),Xe={class:"flex space-x-2"},Je=je((()=>(0,s._)("span",{class:"text-xl uppercase leading-10"},"-",-1))),et={class:"my-3 text-cyan-300"},tt=je((()=>(0,s._)("p",{class:"text-lg mb-1"},"Price (€)",-1))),at={class:"flex space-x-2"},rt=je((()=>(0,s._)("span",{class:"text-xl uppercase leading-10"},"-",-1))),st=je((()=>(0,s._)("summary",null,"Specs",-1))),nt={class:"content"},ot={class:"my-3 text-cyan-300"},it=je((()=>(0,s._)("p",{class:"text-lg mb-1"},"CPU Frequency (MHz)",-1))),lt={class:"flex space-x-2"},ct=je((()=>(0,s._)("span",{class:"text-xl uppercase leading-10"},"-",-1))),ut={class:"my-3 text-cyan-300"},dt=je((()=>(0,s._)("p",{class:"text-lg mb-1"},"CPU Cores",-1))),pt={class:"flex space-x-2"},mt=je((()=>(0,s._)("span",{class:"text-xl uppercase leading-10"},"-",-1))),ht={class:"my-3 text-cyan-300"},gt=je((()=>(0,s._)("p",{class:"text-lg mb-1"},"RAM (GB)",-1))),wt={class:"flex space-x-2"},_t=je((()=>(0,s._)("span",{class:"text-xl uppercase leading-10"},"-",-1))),ft={class:"my-3 text-cyan-300"},bt=je((()=>(0,s._)("p",{class:"text-lg mb-1"},"Storage (GB)",-1))),yt={class:"flex space-x-2"},xt=je((()=>(0,s._)("span",{class:"text-xl uppercase leading-10"},"-",-1))),vt=(0,s.Uk)(" Search ");function kt(e,t,a,n,o,i){const l=(0,s.up)("SelectionComponent"),c=(0,s.up)("RadioComponent"),u=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Fe,[Ne,(0,s._)("div",Ke,[(0,s._)("details",Be,[$e,(0,s._)("div",Ge,[(0,s.Wm)(l,{name:"Brand",options:["Samsung","Huawei","Xiaomi","Apple","OnePlus","Oppo","LG","HTC"],modelValue:o.parameters.brands,"onUpdate:modelValue":t[0]||(t[0]=e=>o.parameters.brands=e)},null,8,["modelValue"]),(0,s._)("div",Le,[Qe,(0,s._)("div",Xe,[(0,s.wy)((0,s._)("input",{class:"border border-cyan-300",type:"number",placeholder:"Minimum year","onUpdate:modelValue":t[1]||(t[1]=e=>o.parameters.yearMin=e)},null,512),[[r.nr,o.parameters.yearMin]]),Je,(0,s.wy)((0,s._)("input",{class:"border border-cyan-300",type:"number",placeholder:"Maximum year","onUpdate:modelValue":t[2]||(t[2]=e=>o.parameters.yearMax=e)},null,512),[[r.nr,o.parameters.yearMax]])])]),(0,s._)("div",et,[tt,(0,s._)("div",at,[(0,s.wy)((0,s._)("input",{class:"border border-cyan-300",type:"number",placeholder:"Minimum price","onUpdate:modelValue":t[3]||(t[3]=e=>o.parameters.priceMin=e)},null,512),[[r.nr,o.parameters.priceMin]]),rt,(0,s.wy)((0,s._)("input",{class:"border border-cyan-300",type:"number",placeholder:"Maximum price","onUpdate:modelValue":t[4]||(t[4]=e=>o.parameters.priceMax=e)},null,512),[[r.nr,o.parameters.priceMax]])])])])]),(0,s._)("details",null,[st,(0,s.Wm)(l,{name:"OS",options:["Android","iOS","Windows"],modelValue:o.parameters.os,"onUpdate:modelValue":t[5]||(t[5]=e=>o.parameters.os=e)},null,8,["modelValue"]),(0,s.Wm)(l,{name:"5G",options:["5G"],modelValue:o.parameters.fiveg,"onUpdate:modelValue":t[6]||(t[6]=e=>o.parameters.fiveg=e)},null,8,["modelValue"]),(0,s._)("div",nt,[(0,s._)("div",ot,[it,(0,s._)("div",lt,[(0,s.wy)((0,s._)("input",{class:"border border-cyan-300",type:"number",placeholder:"Minimum frequency","onUpdate:modelValue":t[7]||(t[7]=e=>o.parameters.cpuMin=e)},null,512),[[r.nr,o.parameters.cpuMin]]),ct,(0,s.wy)((0,s._)("input",{class:"border border-cyan-300",type:"number",placeholder:"Maximum frequency","onUpdate:modelValue":t[8]||(t[8]=e=>o.parameters.cpuMax=e)},null,512),[[r.nr,o.parameters.cpuMax]])])]),(0,s._)("div",ut,[dt,(0,s._)("div",pt,[(0,s.wy)((0,s._)("input",{class:"border border-cyan-300",type:"number",placeholder:"Minimum cores","onUpdate:modelValue":t[9]||(t[9]=e=>o.parameters.cpuCoresMin=e)},null,512),[[r.nr,o.parameters.cpuCoresMin]]),mt,(0,s.wy)((0,s._)("input",{class:"border border-cyan-300",type:"number",placeholder:"Maximum cores","onUpdate:modelValue":t[10]||(t[10]=e=>o.parameters.cpuCoresMax=e)},null,512),[[r.nr,o.parameters.cpuCoresMax]])])]),(0,s._)("div",ht,[gt,(0,s._)("div",wt,[(0,s.wy)((0,s._)("input",{class:"border border-cyan-300",type:"number",placeholder:"Minimum RAM","onUpdate:modelValue":t[11]||(t[11]=e=>o.parameters.ramMin=e)},null,512),[[r.nr,o.parameters.ramMin]]),_t,(0,s.wy)((0,s._)("input",{class:"border border-cyan-300",type:"number",placeholder:"Maximum RAM","onUpdate:modelValue":t[12]||(t[12]=e=>o.parameters.ramMax=e)},null,512),[[r.nr,o.parameters.ramMax]])])]),(0,s._)("div",ft,[bt,(0,s._)("div",yt,[(0,s.wy)((0,s._)("input",{class:"border border-cyan-300",type:"number",placeholder:"Minimum storage","onUpdate:modelValue":t[13]||(t[13]=e=>o.parameters.storageMin=e)},null,512),[[r.nr,o.parameters.storageMin]]),xt,(0,s.wy)((0,s._)("input",{class:"border border-cyan-300",type:"number",placeholder:"Maximum storage","onUpdate:modelValue":t[14]||(t[14]=e=>o.parameters.storageMax=e)},null,512),[[r.nr,o.parameters.storageMax]])])]),(0,s.Wm)(c,{name:"Resolution",options:["240x320","240x400","320x480","480x800","540x960","720x1280","1080x1920","1440x2560","1644x3840"],modelValue:o.parameters.resolution,"onUpdate:modelValue":t[15]||(t[15]=e=>o.parameters.resolution=e)},null,8,["modelValue"])])]),(0,s.Wm)(c,{name:"Order",options:["Popularity","Price","Weight","Camera Resolution","Battery Capacity"],modelValue:o.parameters.order,"onUpdate:modelValue":t[16]||(t[16]=e=>o.parameters.order=e)},null,8,["modelValue"]),(0,s.Wm)(u,{to:o.path,class:"p-2 my-5 block text-center w-full text-teal-300 border border-teal-300 text-lg uppercase hover:border-teal-600 hover:bg-teal-600 hover:text-white transition duration-300"},{default:(0,s.w5)((()=>[vt])),_:1},8,["to"])])])}const Mt=e=>((0,s.dD)("data-v-21649fca"),e=e(),(0,s.Cn)(),e),Dt=["item","index","option"],Ct=["id","value"],Ut=Mt((()=>(0,s._)("span",{class:"checkmark"},null,-1))),Et=["for"];function St(e,t,a,n,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("button",{class:"selection",onClick:t[0]||(t[0]=(...e)=>i.toggle&&i.toggle(...e))},(0,u.zw)(a.name+": "+o.activeOptions),1),(0,s._)("div",{class:(0,u.C_)(["options",{block:o.active,hidden:!o.active}])},[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.options,((e,a)=>((0,s.wg)(),(0,s.iD)("li",{class:"flex",item:e,index:a,key:a,option:e},[(0,s.wy)((0,s._)("input",{class:"form-checkbox mr-3 w-4 h-4 bg-cyan-300 border-0 focus:ring-0",type:"checkbox",id:e,value:e,"onUpdate:modelValue":t[1]||(t[1]=e=>o.activeOptions=e),onChange:t[2]||(t[2]=(...e)=>i.updateInput&&i.updateInput(...e))},null,40,Ct),[[r.e8,o.activeOptions]]),Ut,(0,s._)("label",{class:"block w-full",for:e},(0,u.zw)(e),9,Et)],8,Dt)))),128))])],2)],64)}var Wt={name:"SelectionComponent",props:["name","options","modelValue"],emits:["update:modelValue"],data(){return{activeOptions:[],active:!1}},methods:{toggle(){this.active=!this.active},updateInput(){this.$emit("update:modelValue",this.activeOptions)}}};const Vt=(0,A.Z)(Wt,[["render",St],["__scopeId","data-v-21649fca"]]);var Pt=Vt;const Rt=e=>((0,s.dD)("data-v-08c35364"),e=e(),(0,s.Cn)(),e),It=["item","index","option"],At=["id","value"],zt=Rt((()=>(0,s._)("span",{class:"checkmark"},null,-1))),Ot=["for"];function Tt(e,t,a,n,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("button",{class:"selection",onClick:t[0]||(t[0]=(...e)=>i.toggle&&i.toggle(...e))},(0,u.zw)(a.name+": "+o.activeOption),1),(0,s._)("div",{class:(0,u.C_)(["options",{block:o.active,hidden:!o.active}])},[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.options,((e,a)=>((0,s.wg)(),(0,s.iD)("li",{class:"flex",item:e,index:a,key:a,option:e},[(0,s.wy)((0,s._)("input",{class:"form-checkbox mr-3 w-4 h-4 bg-cyan-300 border-0 focus:ring-0",type:"radio",id:e,value:e,"onUpdate:modelValue":t[1]||(t[1]=e=>o.activeOption=e),onChange:t[2]||(t[2]=(...e)=>i.updateInput&&i.updateInput(...e))},null,40,At),[[r.G2,o.activeOption]]),zt,(0,s._)("label",{class:"block w-full",for:e},(0,u.zw)(e),9,Ot)],8,It)))),128))])],2)],64)}var Ht={name:"RadioComponent",props:["name","options","modelValue"],emits:["update:modelValue"],data(){return{activeOption:"",active:!1}},methods:{toggle(){this.active=!this.active},updateInput(){this.$emit("update:modelValue",this.activeOption)}}};const Yt=(0,A.Z)(Ht,[["render",Tt],["__scopeId","data-v-08c35364"]]);var Zt=Yt,qt={name:"SearchView",components:{SelectionComponent:Pt,RadioComponent:Zt},data(){return{parameters:{brands:[],yearMin:"",yearMax:"",priceMin:"",priceMax:"",os:[],fiveg:"",cpuMin:"",cpuMax:"",cpuCoresMin:"",cpuCoresMax:"",ramMin:"",ramMax:"",storageMin:"",storageMax:"",resolution:"",order:""},path:"/results?"}},methods:{updatePath(){let e="/results?";const t=this.parameters;""!=t.brands&&(e+="brands="+t.brands+"&"),""!=t.yearMin&&(e+="yearMin="+t.yearMin+"&"),""!=t.yearMax&&(e+="yearMax="+t.yearMax+"&"),""!=t.priceMin&&(e+="priceMin="+t.priceMin+"&"),""!=t.priceMax&&(e+="priceMax="+t.priceMax+"&"),""!=t.os&&(e+="os="+t.os+"&"),""!=t.fiveg&&(e+="fiveg="+t.fiveg+"&"),""!=t.cpuMin&&(e+="cpuMin="+t.cpuMin+"&"),""!=t.cpuMax&&(e+="cpuMax="+t.cpuMax+"&"),""!=t.cpuCoresMin&&(e+="cpuCoresMin="+t.cpuCoresMin+"&"),""!=t.cpuCoresMax&&(e+="cpuCoresMax="+t.cpuCoresMax+"&"),""!=t.ramMin&&(e+="ramMin="+t.ramMin+"&"),""!=t.ramMax&&(e+="ramMax="+t.ramMax+"&"),""!=t.storageMin&&(e+="storageMin="+t.storageMin+"&"),""!=t.storageMax&&(e+="storageMax="+t.storageMax+"&"),""!=t.resolution&&(e+="resolution="+t.resolution+"&"),""!=t.order&&(e+="order="+t.order+"&"),"&"==e.slice(-1)?this.path=e.slice(0,-1):this.path=e}},watch:{parameters:{handler(){this.updatePath()},deep:!0}}};const jt=(0,A.Z)(qt,[["render",kt],["__scopeId","data-v-0f9ed2a5"]]);var Ft=jt;const Nt=e=>((0,s.dD)("data-v-fb9bc580"),e=e(),(0,s.Cn)(),e),Kt=Nt((()=>(0,s._)("h1",{class:"mt-5 text-3xl text-center text-teal-300"},"Results",-1))),Bt={class:"list"},$t={class:"card"},Gt=["src"],Lt={class:"mt-2 text-center text-lg break-words"};function Qt(e,t,a,r,n,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Kt,(0,s._)("div",Bt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.phones,((e,t)=>((0,s.wg)(),(0,s.j4)(i,{item:e,index:t,key:t,phone:e,to:"/phone/"+e.url.split("/")[3].split(".")[0]},{default:(0,s.w5)((()=>[(0,s._)("div",$t,[(0,s._)("div",null,[(0,s._)("img",{src:e.image,alt:"Image",class:"mx-auto"},null,8,Gt)]),(0,s._)("div",Lt,[(0,s._)("p",null,(0,u.zw)(e.brand),1),(0,s._)("p",null,(0,u.zw)(e.model),1)])])])),_:2},1032,["item","index","phone","to"])))),128))])],64)}class Xt{static async getPhones(e){try{const t=await ne.post("/scraper/search",{params:e});return t.data}catch(t){return t}}static async getPhoneDetails(e){try{const t=await ne.get("/scraper/phone/"+e);return t.data}catch(t){return t}}static async getProductStock(e){try{const t=await ne.get("/stock/phone/"+e);return t.data}catch(t){return t}}static async checkWish(e){try{const t=await ne.get("/phones/wish/"+e);return t.data}catch(t){return t}}static async addWish(e){try{const t=await ne.post("/phones/wish",{phoneID:e});return t.data}catch(t){return t}}static async removeWish(e){try{const t=await ne["delete"]("/phones/wish/"+e);return t.data}catch(t){return t}}static async getWishes(){try{const e=await ne.get("/phones/wishlist");return e.data}catch(e){return e}}static async getAllWishes(){try{const e=await ne.get("/phones/wishes");return e.data}catch(e){return e}}}var Jt=Xt,ea={name:"ResultsView",data(){return{phones:[],error:""}},methods:{async getPhones(e){try{this.phones=await Jt.getPhones(e)}catch(t){this.error=t.message}}},beforeMount(){this.getPhones(this.$route.query)}};const ta=(0,A.Z)(ea,[["render",Qt],["__scopeId","data-v-fb9bc580"]]);var aa=ta;const ra=e=>((0,s.dD)("data-v-94e48cf4"),e=e(),(0,s.Cn)(),e),sa={class:"mt-5 text-3xl text-center text-teal-300"},na=ra((()=>(0,s._)("hr",{class:"my-5 border-teal-300"},null,-1))),oa={class:"flex mt-10"},ia={class:"w-1/2"},la=["src"],ca={class:"w-1/2 text-center flex items-center"},ua={key:0,class:"product-details"},da={class:"text-4xl mb-5"},pa={class:"text-xl text-green-500 mb-5"},ma=ra((()=>(0,s._)("button",{class:"p-2 text-lg text-teal-300 border border-teal-300 font-semibold hover:text-teal-400 hover:border-teal-400 hover:scale-110 transition-all duration-200"}," BUY NOW ",-1))),ha={key:1,class:"product-details"},ga=ra((()=>(0,s._)("p",{class:"text-xl text-red-500 mb-5"},"Not in stock",-1))),wa={class:"my-10"},_a=["item","index","spec"],fa={class:"uppercase text-xl text-teal-300 w-1/5 border border-slate-600"},ba={class:"w-4/5"},ya={class:"w-full"},xa=["item","index","subspec"],va={class:"capitalize text-lg font-semibold text-cyan-300 w-1/5 border-r border-slate-600"},ka={class:"w-4/5"};function Ma(e,t,a,r,n,o){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("h1",sa,(0,u.zw)(n.phone.fullname),1),na,(0,s._)("div",oa,[(0,s._)("div",ia,[(0,s._)("img",{class:"w-64",src:n.phone.image,alt:"Image"},null,8,la)]),(0,s._)("div",ca,[n.phone.stock>0?((0,s.wg)(),(0,s.iD)("div",ua,[(0,s._)("p",da,(0,u.zw)(n.phone.price)+" €",1),(0,s._)("p",pa,(0,u.zw)(n.phone.stock)+" products in stock ",1),ma])):((0,s.wg)(),(0,s.iD)("div",ha,[ga,n.wished?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"p-2 text-lg text-cyan-300 border border-cyan-300 font-semibold hover:text-cyan-400 hover:border-cyan-400 hover:scale-110 transition-all duration-200",onClick:t[1]||(t[1]=(...e)=>o.removeWish&&o.removeWish(...e))}," REMOVE FROM WISHLIST ")):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"p-2 text-lg text-cyan-300 border border-cyan-300 font-semibold hover:text-cyan-400 hover:border-cyan-400 hover:scale-110 transition-all duration-200",onClick:t[0]||(t[0]=(...e)=>o.addWish&&o.addWish(...e))}," ADD TO WISHLIST "))]))])]),(0,s._)("div",wa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.phone.specs,((e,t)=>((0,s.wg)(),(0,s.iD)("table",{class:"w-full mb-2 border border-slate-600",item:e,index:t,key:t,spec:e},[(0,s._)("tr",null,[(0,s._)("th",fa,(0,u.zw)(e.spec),1),(0,s._)("td",ba,[(0,s._)("table",ya,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.subspecs,((t,a)=>((0,s.wg)(),(0,s.iD)("tr",{class:(0,u.C_)(["border-slate-600",{"border-b":a!=e.subspecs.length-1}]),item:t,index:a,key:a,subspec:t},[(0,s._)("th",va,(0,u.zw)(t.subspec),1),(0,s._)("td",ka,(0,u.zw)(t.attribute),1)],10,xa)))),128))])])])],8,_a)))),128))])],64)}var Da={name:"PhonesView",data(){return{phone:{},wished:!1,error:""}},computed:{...(0,E.Se)({authenticated:"auth/authenticated"})},methods:{async getPhoneDetails(e){try{this.phone=await Jt.getPhoneDetails(e),this.phone.stock<=0&&this.authenticated&&this.checkWish()}catch(t){this.error=t.message}},async checkWish(){try{const e=await Jt.checkWish(this.phone._id);e.wished?this.wished=!0:this.wished=!1}catch(e){this.error=e.message}},async removeWish(){try{const e=await Jt.removeWish(this.phone._id);403===e.status?this.error=e:this.checkWish()}catch(e){this.error=e.message}},async addWish(){try{const e=await Jt.addWish(this.phone._id);403===e.status?this.error=e:401===e.status?this.error="You must log in first":this.checkWish()}catch(e){this.error=e.message}}},beforeMount(){this.getPhoneDetails(this.$route.params.phone)}};const Ca=(0,A.Z)(Da,[["render",Ma],["__scopeId","data-v-94e48cf4"]]);var Ua=Ca;const Ea=e=>((0,s.dD)("data-v-30e60836"),e=e(),(0,s.Cn)(),e),Sa={class:"form p-5 max-w-2xl border bg-cyan-900 bg-opacity-10 border-cyan-700 mx-auto rounded-sm"},Wa=Ea((()=>(0,s._)("h1",{class:"text-3xl mb-5 text-center text-cyan-300"},"My profile",-1))),Va=(0,s.Uk)(" Username: "),Pa={class:"text-gray-200"},Ra=(0,s.Uk)(" Email: "),Ia={class:"text-gray-200"},Aa=(0,s.Uk)(" Verified: "),za={key:0,class:"text-green-500"},Oa={key:1,class:"text-red-500"},Ta=(0,s.Uk)("No "),Ha={key:0,class:"text-gray-200 text-center text-lg mt-5"},Ya={key:1,class:"text-red-500 text-center text-lg mt-5"},Za={class:"profile-buttons"},qa=Ea((()=>(0,s._)("button",null,"Home",-1))),ja=Ea((()=>(0,s._)("button",null,"Phones",-1))),Fa=Ea((()=>(0,s._)("button",null,"Edit",-1)));function Na(e,t,a,r,n,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Sa,[Wa,(0,s._)("h2",null,[Va,(0,s._)("span",Pa,(0,u.zw)(n.user.username),1)]),(0,s._)("h2",null,[Ra,(0,s._)("span",Ia,(0,u.zw)(n.user.email),1)]),(0,s._)("h2",null,[Aa,n.user.isActive?((0,s.wg)(),(0,s.iD)("span",za,"Yes")):((0,s.wg)(),(0,s.iD)("span",Oa,[Ta,(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>o.verify&&o.verify(...e)),class:"p-1 px-2 float-right border border-red-500 hover:bg-red-500 hover:text-gray-200 transition-all duration-100 uppercase"}," Verify now ")]))]),""!=n.notice?((0,s.wg)(),(0,s.iD)("p",Ha,(0,u.zw)(n.notice),1)):(0,s.kq)("",!0),""!=n.error?((0,s.wg)(),(0,s.iD)("p",Ya,(0,u.zw)(n.error),1)):(0,s.kq)("",!0),(0,s._)("div",Za,[(0,s.Wm)(i,{to:"/"},{default:(0,s.w5)((()=>[qa])),_:1}),(0,s.Wm)(i,{to:"/myphones"},{default:(0,s.w5)((()=>[ja])),_:1}),(0,s.Wm)(i,{to:"/profile/edit"},{default:(0,s.w5)((()=>[Fa])),_:1}),(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>o.logout&&o.logout(...e))},"Logout")])])}var Ka={name:"ProfileView",components:{},data(){return{user:{},error:"",notice:""}},methods:{...(0,E.nv)({logoutAction:"auth/logout"}),async getUser(){try{this.user=await ie.getUserDetails()}catch(e){this.error=e}},async verify(){try{const e=await ie.sendVerificationEmail();this.notice=e}catch(e){this.error=e}},logout(){this.logoutAction(),Rs.push("/")}},beforeMount(){this.getUser()}};const Ba=(0,A.Z)(Ka,[["render",Na],["__scopeId","data-v-30e60836"]]);var $a=Ba;const Ga=e=>((0,s.dD)("data-v-63933187"),e=e(),(0,s.Cn)(),e),La={class:"form p-5 max-w-2xl border bg-cyan-900 bg-opacity-10 border-cyan-700 mx-auto rounded-sm"},Qa=Ga((()=>(0,s._)("h1",{class:"text-3xl mb-5 text-center text-cyan-300"},"Edit profile",-1))),Xa=Ga((()=>(0,s._)("label",{for:"email"},"Email (Email verification will be reset if changed)",-1))),Ja=Ga((()=>(0,s._)("label",{for:"username"},"Username",-1))),er={key:0,class:"text-green-500 text-center text-lg mt-5"},tr={key:1,class:"text-red-500 text-center text-lg mt-5"},ar={class:"profile-buttons"},rr=Ga((()=>(0,s._)("button",null,"Back",-1)));function sr(e,t,a,n,o,i){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",La,[Qa,Xa,(0,s.wy)((0,s._)("input",{type:"text",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.user.email=e)},null,512),[[r.nr,o.user.email]]),Ja,(0,s.wy)((0,s._)("input",{type:"text",id:"username","onUpdate:modelValue":t[1]||(t[1]=e=>o.user.username=e)},null,512),[[r.nr,o.user.username]]),""!=o.notice?((0,s.wg)(),(0,s.iD)("p",er,(0,u.zw)(o.notice),1)):(0,s.kq)("",!0),""!=o.error?((0,s.wg)(),(0,s.iD)("p",tr,(0,u.zw)(o.error),1)):(0,s.kq)("",!0),(0,s._)("div",ar,[(0,s.Wm)(l,{to:"/profile"},{default:(0,s.w5)((()=>[rr])),_:1}),(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>i.editUser&&i.editUser(...e))},"Edit")])])}var nr={name:"ProfileView",components:{},data(){return{user:{},error:"",notice:""}},methods:{...(0,E.nv)({saveToken:"auth/saveToken"}),async getUser(){try{this.user=await ie.getUserDetails()}catch(e){this.error=e}},async editUser(){try{const e=await ie.editUser({email:this.user.email,username:this.user.username});e.data.accessToken?(await this.saveToken(e.data.accessToken),this.notice=e.data,Rs.push("/profile")):this.error=e.data}catch(e){this.error=e}}},beforeMount(){this.getUser()}};const or=(0,A.Z)(nr,[["render",sr],["__scopeId","data-v-63933187"]]);var ir=or;const lr={class:"form p-5 max-w-2xl border bg-cyan-900 bg-opacity-10 border-cyan-700 mx-auto rounded-sm"},cr=(0,s._)("h1",{class:"text-3xl mb-5 text-center text-cyan-300"},"Email Verification",-1),ur={key:0,class:"text-green-500 text-center text-lg mt-5"},dr={key:1,class:"text-red-500 text-center text-lg mt-5"},pr=(0,s._)("p",{class:"text-center mt-5"},"Back to profile",-1);function mr(e,t,a,r,n,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",lr,[cr,""!=n.notice?((0,s.wg)(),(0,s.iD)("p",ur,(0,u.zw)(n.notice),1)):(0,s.kq)("",!0),""!=n.error?((0,s.wg)(),(0,s.iD)("p",dr,(0,u.zw)(n.error),1)):(0,s.kq)("",!0),(0,s.Wm)(i,{to:"/profile"},{default:(0,s.w5)((()=>[pr])),_:1})])}var hr={name:"ProfileView",components:{},data(){return{error:"",notice:""}},methods:{async verify(e){try{this.notice=await ie.verifyEmail(e)}catch(t){this.error=t}}},beforeMount(){this.verify(this.$route.params.verificationString)}};const gr=(0,A.Z)(hr,[["render",mr]]);var wr=gr;const _r=e=>((0,s.dD)("data-v-78f319e7"),e=e(),(0,s.Cn)(),e),fr=_r((()=>(0,s._)("h1",{class:"text-3xl text-cyan-300 text-center border-b border-cyan-400 pb-3"}," Admin Panel ",-1))),br={class:"my-10 grid md:grid-cols-3 sm:grid-cols-2 gap-5 px-2"},yr=_r((()=>(0,s._)("button",null,[(0,s._)("i",{class:"fas fa-boxes"}),(0,s.Uk)("Phones Stock")],-1))),xr=_r((()=>(0,s._)("button",null,[(0,s._)("i",{class:"fas fa-mobile-alt"}),(0,s.Uk)("Wished Phones")],-1))),vr=_r((()=>(0,s._)("button",null,[(0,s._)("i",{class:"fas fa-comment"}),(0,s.Uk)("User Problems")],-1))),kr=_r((()=>(0,s._)("button",null,[(0,s._)("i",{class:"fas fa-users"}),(0,s.Uk)("Users")],-1))),Mr=_r((()=>(0,s._)("button",null,[(0,s._)("i",{class:"fas fa-home"}),(0,s.Uk)("Home")],-1)));function Dr(e,t,a,r,n,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[fr,(0,s._)("div",br,[(0,s.Wm)(i,{to:"/admin/stock"},{default:(0,s.w5)((()=>[yr])),_:1}),(0,s.Wm)(i,{to:"/admin/wishes"},{default:(0,s.w5)((()=>[xr])),_:1}),(0,s.Wm)(i,{to:"/admin/tickets"},{default:(0,s.w5)((()=>[vr])),_:1}),(0,s.Wm)(i,{to:"/admin/users"},{default:(0,s.w5)((()=>[kr])),_:1}),(0,s.Wm)(i,{to:"/"},{default:(0,s.w5)((()=>[Mr])),_:1})])],64)}var Cr={name:"AdminView",components:{},computed:{...(0,E.Se)({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})},data(){return{}},beforeMount(){this.isAdmin||Rs.push("/login")}};const Ur=(0,A.Z)(Cr,[["render",Dr],["__scopeId","data-v-78f319e7"]]);var Er=Ur;const Sr=e=>((0,s.dD)("data-v-9b05e184"),e=e(),(0,s.Cn)(),e),Wr=(0,s.Uk)(" Add Stock "),Vr={key:0,class:"w-full my-5"},Pr=Sr((()=>(0,s._)("tr",null,[(0,s._)("th",null,"Phone"),(0,s._)("th",null,"Price"),(0,s._)("th",null,"Quantity")],-1)));function Rr(e,t,a,r,n,o){const i=(0,s.up)("AdminNavigation"),l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),(0,s.Wm)(l,{to:"/admin/stock/add",class:"text-cyan-400 text-lg hover:underline"},{default:(0,s.w5)((()=>[Wr])),_:1}),n.phones?((0,s.wg)(),(0,s.iD)("table",Vr,[Pr,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.phones,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",null,(0,u.zw)(e.fullname),1),(0,s._)("td",null,(0,u.zw)(e.price)+"€",1),(0,s._)("td",null,(0,u.zw)(e.stock),1)])))),128))])):(0,s.kq)("",!0)],64)}class Ir{static async addStock(e){try{const t=await ne.post("/stock/add",{products:e});return t.data}catch(t){return t}}static async getStock(){try{const e=await ne.get("/stock");return e.data}catch(e){return e}}}var Ar=Ir;const zr=e=>((0,s.dD)("data-v-20affa35"),e=e(),(0,s.Cn)(),e),Or={class:"py-2 mb-5 flex flex-row flex-wrap justify-start items-baseline border-b border-slate-600"},Tr=zr((()=>(0,s._)("button",null,[(0,s._)("i",{class:"fas fa-home"}),(0,s.Uk)("Admin Home")],-1))),Hr=zr((()=>(0,s._)("button",null,[(0,s._)("i",{class:"fas fa-boxes"}),(0,s.Uk)("Phones Stock")],-1))),Yr=zr((()=>(0,s._)("button",null,[(0,s._)("i",{class:"fas fa-mobile-alt"}),(0,s.Uk)("Wished Phones")],-1))),Zr=zr((()=>(0,s._)("button",null,[(0,s._)("i",{class:"fas fa-comment"}),(0,s.Uk)("User Problems")],-1))),qr=zr((()=>(0,s._)("button",null,[(0,s._)("i",{class:"fas fa-users"}),(0,s.Uk)("Users")],-1)));function jr(e,t,a,r,n,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Or,[(0,s.Wm)(i,{to:"/admin"},{default:(0,s.w5)((()=>[Tr])),_:1}),(0,s.Wm)(i,{to:"/admin/stock"},{default:(0,s.w5)((()=>[Hr])),_:1}),(0,s.Wm)(i,{to:"/admin/wishes"},{default:(0,s.w5)((()=>[Yr])),_:1}),(0,s.Wm)(i,{to:"/admin/tickets"},{default:(0,s.w5)((()=>[Zr])),_:1}),(0,s.Wm)(i,{to:"/admin/users"},{default:(0,s.w5)((()=>[qr])),_:1})])}var Fr={name:"AdminNavigation"};const Nr=(0,A.Z)(Fr,[["render",jr],["__scopeId","data-v-20affa35"]]);var Kr=Nr,Br={name:"StockView",components:{AdminNavigation:Kr},computed:{...(0,E.Se)({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})},data(){return{phones:null,error:""}},methods:{async getStock(){try{this.phones=await Ar.getStock()}catch(e){this.error=e}}},beforeMount(){this.isAdmin||Rs.push("/login"),this.getStock()}};const $r=(0,A.Z)(Br,[["render",Rr],["__scopeId","data-v-9b05e184"]]);var Gr=$r;const Lr=e=>((0,s.dD)("data-v-64ab6bde"),e=e(),(0,s.Cn)(),e),Qr=Lr((()=>(0,s._)("h1",{class:"text-2xl text-center text-cyan-300 pb-5 mb-5 border-b border-cyan-300"}," Add Stock ",-1))),Xr=Lr((()=>(0,s._)("label",{for:"file",class:"block mb-2"},"Choose Excel file:",-1))),Jr={key:0,class:"w-full my-5"},es=Lr((()=>(0,s._)("tr",null,[(0,s._)("th",null,"Phone"),(0,s._)("th",null,"Price"),(0,s._)("th",null,"Quantity")],-1))),ts={key:2,class:"error"};function as(e,t,a,r,n,o){return(0,s.wg)(),(0,s.iD)(s.HY,null,[Qr,Xr,(0,s._)("input",{type:"file",id:"file",onChange:t[0]||(t[0]=(...e)=>o.setFile&&o.setFile(...e))},null,32),n.products?((0,s.wg)(),(0,s.iD)("table",Jr,[es,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.products,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",null,(0,u.zw)(e.fullname),1),(0,s._)("td",null,(0,u.zw)(e.price)+"€",1),(0,s._)("td",null,(0,u.zw)(e.quantity),1)])))),128))])):(0,s.kq)("",!0),n.products?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"my-5 py-2 px-3 border border-cyan-300 text-cyan-300 uppercase text-lg hover:text-cyan-500 hover:border-cyan-500 transition-all duration-100",onClick:t[1]||(t[1]=(...e)=>o.upload&&o.upload(...e))}," Import into database ")):(0,s.kq)("",!0),""!=n.error?((0,s.wg)(),(0,s.iD)("p",ts,(0,u.zw)(n.error),1)):(0,s.kq)("",!0)],64)}a(8675),a(3462);const rs=a(7092);var ss={name:"StockAddView",components:{},computed:{...(0,E.Se)({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})},data(){return{file:null,result:null,products:null,error:""}},methods:{setFile(e){const t=/([a-zA-Z0-9\s_\\.])+(.xlsx)$/i,a=e.target.files[0];let r=!1;if(a){if(t.exec(a.name)||(this.error="File must be .xlsx",r=!0),r)return this.file=null,void(this.products=null);this.file=a,this.parseFile()}},parseFile(){const e=e=>{const t=new FileReader;return new Promise(((a,r)=>{t.onload=e=>{const t=new Uint8Array(e.target.result),r=rs.read(t,{type:"array"});let s=r.SheetNames[0],n=r.Sheets[s];const o=rs.utils.sheet_to_json(n);console.log(o),a(o)},t.onerror=()=>{r("error")},t.readAsArrayBuffer(e)}))};e(this.file).then((e=>{this.products=e}))},async upload(){try{await Ar.addStock(this.products),Rs.push("/admin/stock")}catch(e){this.error=e}}},beforeMount(){this.isAdmin||Rs.push("/login")}};const ns=(0,A.Z)(ss,[["render",as],["__scopeId","data-v-64ab6bde"]]);var os=ns;const is=e=>((0,s.dD)("data-v-69493af8"),e=e(),(0,s.Cn)(),e),ls={open:""},cs=is((()=>(0,s._)("summary",{class:"mt-5 text-2xl text-cyan-300 cursor-pointer",open:""}," Owned phones ",-1))),us={class:"list"},ds={class:"card hover:text-cyan-300"},ps=["src"],ms={class:"mt-2 text-center text-lg break-words"},hs={open:""},gs=is((()=>(0,s._)("summary",{class:"mt-5 text-2xl text-teal-300 cursor-pointer"}," Wished phones ",-1))),ws={class:"list"},_s={class:"card"},fs=["src"],bs={class:"mt-2 text-center text-lg break-words"};function ys(e,t,a,r,n,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("details",ls,[cs,(0,s._)("div",us,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.phones,((e,t)=>((0,s.wg)(),(0,s.j4)(i,{item:e,index:t,key:e._id,phone:e,to:"/phone/"+e.url},{default:(0,s.w5)((()=>[(0,s._)("div",ds,[(0,s._)("div",null,[(0,s._)("img",{src:e.image,alt:"Image",class:"mx-auto"},null,8,ps)]),(0,s._)("div",ms,[(0,s._)("p",null,(0,u.zw)(e.brand),1),(0,s._)("p",null,(0,u.zw)(e.model),1)])])])),_:2},1032,["item","index","phone","to"])))),128))])]),(0,s._)("details",hs,[gs,(0,s._)("div",ws,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.wishes,((e,t)=>((0,s.wg)(),(0,s.j4)(i,{item:e,index:t,key:e._id,phone:e,to:"/phone/"+e.url},{default:(0,s.w5)((()=>[(0,s._)("div",_s,[(0,s._)("div",null,[(0,s._)("img",{src:e.image,alt:"Image",class:"mx-auto"},null,8,fs)]),(0,s._)("div",bs,[(0,s._)("p",null,(0,u.zw)(e.brand),1),(0,s._)("p",null,(0,u.zw)(e.model),1)])])])),_:2},1032,["item","index","phone","to"])))),128))])])],64)}var xs={name:"ResultsView",data(){return{phones:[],wishes:[],error:""}},methods:{async getPhones(){try{this.wishes=await Jt.getWishes()}catch(e){this.error=e.message}}},beforeMount(){this.getPhones(this.$route.query)}};const vs=(0,A.Z)(xs,[["render",ys],["__scopeId","data-v-69493af8"]]);var ks=vs;const Ms=e=>((0,s.dD)("data-v-494b09a0"),e=e(),(0,s.Cn)(),e),Ds={key:0,class:"w-full my-5"},Cs=Ms((()=>(0,s._)("tr",null,[(0,s._)("th",null,"Phone"),(0,s._)("th",null,"Wishes"),(0,s._)("th",null,"Stock")],-1)));function Us(e,t,a,r,n,o){const i=(0,s.up)("AdminNavigation");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),n.phones?((0,s.wg)(),(0,s.iD)("table",Ds,[Cs,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.phones,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",null,(0,u.zw)(e.fullname),1),(0,s._)("td",null,(0,u.zw)(e.wishes.length),1),(0,s._)("td",{class:(0,u.C_)({"text-red-500":e.stock<e.wishes.length,"text-green-500":e.stock>e.wishes.length,"text-cyan-500":e.stock==e.wishes.length})},(0,u.zw)(e.stock),3)])))),128))])):(0,s.kq)("",!0)],64)}var Es={name:"WishesView",components:{AdminNavigation:Kr},computed:{...(0,E.Se)({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})},data(){return{phones:null,error:""}},methods:{async getWishes(){try{this.phones=await Jt.getAllWishes()}catch(e){this.error=e}}},beforeMount(){this.isAdmin||Rs.push("/login"),this.getWishes()}};const Ss=(0,A.Z)(Es,[["render",Us],["__scopeId","data-v-494b09a0"]]);var Ws=Ss;const Vs=[{path:"/",name:"home",component:O},{path:"/login",name:"login",component:ue,beforeEnter:(e,t,a)=>{if(localStorage.getItem("token"))return a({name:"profile"});a()}},{path:"/register",name:"register",component:qe,beforeEnter:(e,t,a)=>{if(localStorage.getItem("token"))return a({name:"profile"});a()}},{path:"/search",name:"search",component:Ft},{path:"/results",name:"results",component:aa},{path:"/phone/:phone",name:"phone",component:Ua},{path:"/profile",name:"profile",component:$a,beforeEnter:(e,t,a)=>{if(!localStorage.getItem("token"))return a({name:"login"});a()}},{path:"/myphones",name:"myphones",component:ks,beforeEnter:(e,t,a)=>{if(!localStorage.getItem("token"))return a({name:"login"});a()}},{path:"/profile/edit",name:"profileEdit",component:ir,beforeEnter:(e,t,a)=>{if(!localStorage.getItem("token"))return a({name:"login"});a()}},{path:"/user/verify/:verificationString",name:"verify",component:wr,beforeEnter:(e,t,a)=>{if(!localStorage.getItem("token"))return a({name:"login"});a()}},{path:"/admin",name:"admin",component:Er,beforeEnter:(e,t,a)=>{if(!localStorage.getItem("token"))return a({name:"login"});a()}},{path:"/admin/stock",name:"stock",component:Gr,beforeEnter:(e,t,a)=>{if(!localStorage.getItem("token"))return a({name:"login"});a()}},{path:"/admin/wishes",name:"wishes",component:Ws,beforeEnter:(e,t,a)=>{if(!localStorage.getItem("token"))return a({name:"login"});a()}},{path:"/admin/stock/add",name:"stockadd",component:os,beforeEnter:(e,t,a)=>{if(!localStorage.getItem("token"))return a({name:"login"});a()}}],Ps=(0,S.p7)({history:(0,S.PO)("/"),routes:Vs});var Rs=Ps,Is={name:"HeaderComponent",data(){return{dropdown:!1}},computed:{...(0,E.Se)({authenticated:"auth/authenticated",user:"auth/user",isAdmin:"auth/isAdmin"})},methods:{...(0,E.nv)({logoutAction:"auth/logout"}),logout(){this.toggleDropdown(),this.logoutAction(),Rs.push("/")},toggleDropdown(){this.dropdown=!this.dropdown}}};const As=(0,A.Z)(Is,[["render",U],["__scopeId","data-v-70c3018a"]]);var zs=As;const Os=a(9122);var Ts={components:{HeaderComponent:zs},data(){return{slika:Os}}};const Hs=(0,A.Z)(Ts,[["render",c]]);var Ys=Hs,Zs=a(2415),qs={namespaced:!0,state:{token:null,user:null},getters:{authenticated(e){return!(!e.token||!e.user)},isAdmin(e){return!!e.user.isAdmin},user(e){return e.user}},mutations:{SET_TOKEN(e,t){e.token=t},SET_USER(e,t){e.user=t}},actions:{saveToken({dispatch:e},t){localStorage.setItem("token",t),e("tryToken")},async tryToken({commit:e}){try{let t=await ne.post("users/token");e("SET_TOKEN",localStorage.getItem("token")),e("SET_USER",t.data)}catch(t){403==t.response.status&&(localStorage.removeItem("token"),e("SET_USER",null),e("SET_TOKEN",null))}},logout({commit:e}){localStorage.removeItem("token"),e("SET_USER",null),e("SET_TOKEN",null)}}},js=(0,E.MT)({state:{},mutations:{},actions:{},modules:{auth:qs},plugins:[(0,Zs.Z)()]});js.dispatch("auth/tryToken"),(0,r.ri)(Ys).use(js).use(Rs).mount("#app")},9122:function(e,t,a){e.exports=a.p+"img/img1.76383aa9.jpg"}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,r,s,n){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],s=e[u][1],n=e[u][2];for(var i=!0,l=0;l<r.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every((function(e){return a.O[e](r[l])}))?r.splice(l--,1):(i=!1,n<o&&(o=n));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,n,o=r[0],i=r[1],l=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(l)var u=l(a)}for(t&&t(r);c<o.length;c++)n=o[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},r=self["webpackChunkmyphonestore"]=self["webpackChunkmyphonestore"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(8916)}));r=a.O(r)})();
//# sourceMappingURL=app.e8a282ca.js.map